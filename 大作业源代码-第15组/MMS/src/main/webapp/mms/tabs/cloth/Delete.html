<!-- /* 删除服装信息*/ -->

<table id="DMMDatagrid" class="easyui-datagrid" toolbar="#clothDelete"
title="服装信息报表" 
data-options="striped:true,
height:'auto',  
singleSelect: false,
selectOnCheck: true,//true勾选会选择行，false勾选不选择行, 1.3以后有此选项。重点在这里  
checkOnSelect: true, //true选择行勾选，false选择行不勾选, 1.3以后有此选项 
rownumbers:true,
remoteSort: false,
pagination:true,fitColumns:true,
url:'../Cloth/GetMessage',pageSize:5,
pageList:[2,5,10]"
style="width: 87%">

<thead>
  <tr>
    <th data-options="field:'GenreId',checkbox: true" width=2%></th>
    <th data-options="field:'clno'" width=12%>
    编号</th>
    <th data-options="field:'clname'" width=30%>
    名称</th>
    <th data-options="field:'clseasonal'" width=12%>
    季节属性</th>
    <th data-options="field:'clmode'" width=30%>
    洗涤模式</th>
    <th data-options="field:'clprice'" width=12%>
    价格</th>
</tr>
</thead>
</table>
</div>
<div id="clothDelete">
    <a href="javascript:void(0)" class="easyui-linkbutton"
    iconCls="icon-pill_delete" plain="true"
    onclick="DMMDelte()">删除服装</a>
</div>
    <script type="text/javascript">
      function DMMDelte(){
        var deleteRow = $('#DMMDatagrid').datagrid('getSelections');
        if (deleteRow.length==0) {
            $.messager.alert("提示", "请选择要删除的行！");
            return;
        }else{
            var ids=[];
            for (var i = 0; i < deleteRow.length; i++) {
             ids.push(deleteRow[i].mno);
         }
         $.post('../Cloth/DeleteRows', {"array[]":ids
     }, function(data) {
      /*optional stuff to do after success */
      $.messager.alert("提示", data);
      $('#DMMDatagrid').datagrid('reload');
  });
     }
 }
</script>

